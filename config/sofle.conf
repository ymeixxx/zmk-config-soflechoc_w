# Enable USB and Bluetooth
CONFIG_ZMK_USB=y
CONFIG_ZMK_BLE=y

# 蓝牙增强配置
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y       # 提高发射功率（最大+8dBm）
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y    # 启用实验性蓝牙连接（提高稳定性）
CONFIG_BT_MAX_CONN=3                 # 最大同时连接设备数
CONFIG_BT_MAX_PAIRED=3               # 最大配对设备数

# 节能配置（可选）
CONFIG_ZMK_SLEEP=y                   # 启用睡眠模式
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000 # 15分钟无操作后睡眠（单位：毫秒）

# 编码器支持（旋钮）
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# OLED 屏幕支持（取消注释启用）
# CONFIG_ZMK_DISPLAY=y
# CONFIG_ZMK_WIDGET_BATTERY_STATUS=y
# CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENT=y
# CONFIG_ZMK_WIDGET_OUTPUT_STATUS=y
# CONFIG_ZMK_WIDGET_LAYER_STATUS=y

# RGB 背光/底光支持（取消注释启用）
# CONFIG_ZMK_RGB_UNDERGLOW=y
# CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n  # 禁用外部电源切换（避免屏幕关闭）
# CONFIG_WS2812_STRIP=y                # 使用WS2812灯珠

# 键盘行为配置
CONFIG_ZMK_KEYBOARD_NAME="Sofle"      # 蓝牙显示名称
CONFIG_ZMK_MOUSE=y                    # 启用鼠标键支持
CONFIG_ZMK_EXT_POWER=y                # 启用外部电源控制

# 分体键盘通信优化
CONFIG_ZMK_SPLIT_BLE_CENTRAL_PERIPHERAL=y  # 明确主从模式（主控为Central）
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL=y  # 从控电量上报到主控
